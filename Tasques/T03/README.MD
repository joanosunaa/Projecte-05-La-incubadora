## üß© Introducci√≥ a la tasca

En la vostra experi√®ncia a **EverPia** heu configurat serveis fonamentals com **DHCP**, **DNS** i la **connexi√≥ i administraci√≥ remota dels equips**.

Ara que comenceu el vostre cam√≠ en solitari, necessiteu **ampliar coneixements** i consolidar les bases que tot professional IT ha de dominar.

Tot i que serveis de **cloud** com *Dropbox*, *Google Drive* o altres plataformes similars s√≥n, avui dia, una de les formes m√©s habituals de compartir i descarregar arxius, √©s imprescindible entendre i dominar els **protocols fonamentals de transfer√®ncia de fitxers**.

Per aquest motiu, us inscriviu a una **formaci√≥ especialitzada** amb l‚Äôobjectiu de convertir-vos en **experts en protocols de transfer√®ncia**, adquirint coneixements pr√†ctics i aplicables a entorns professionals reals.


## üéØ Objectius de la formaci√≥

En acabar aquesta formaci√≥, haureu de ser capa√ßos de respondre a aquestes preguntes **amb fets i configuracions reals**:


### ‚ùì Com funciona el protocol FTP?

El **protocol FTP (File Transfer Protocol)** √©s un protocol de la capa d‚Äôaplicaci√≥ que permet transferir fitxers entre un client i un servidor a trav√©s d‚Äôuna xarxa TCP/IP.

Caracter√≠stiques principals:
- Utilitza **dues connexions TCP**:
  - **Connexi√≥ de control** (port 21): per enviar ordres (login, llistar fitxers, canviar directoris‚Ä¶)
  - **Connexi√≥ de dades**: per transferir fitxers o llistes de directoris
- Les dades i credencials **viatgen en text pla** (no xifrat)
- √âs simple per√≤ **insegur** en entorns moderns


### ‚ùì Quina difer√®ncia hi ha entre el mode actiu i el mode passiu?

**Mode actiu:**
- El client obre la connexi√≥ de control cap al servidor (port 21)
- El servidor obre la connexi√≥ de dades cap al client
- Problemes habituals amb **firewalls i NAT**, ja que el servidor inicia connexions cap al client

**Mode passiu:**
- El client obre tant la connexi√≥ de control com la de dades
- El servidor indica quin port utilitzar√† per a la connexi√≥ de dades
- √âs el mode **m√©s utilitzat actualment** perqu√® evita problemes amb firewalls

üìå **Conclusi√≥:**  
El mode passiu √©s m√©s compatible i segur en xarxes modernes.


### ‚ùì Implementaci√≥ d‚Äôun servidor FTP segur

Un servidor FTP segur es pot implementar mitjan√ßant **FTPS (FTP sobre TLS/SSL)**.

Mesures clau:
- Xifrat de la connexi√≥ amb **TLS**
- √ös de certificats digitals
- Desactivaci√≥ de connexions an√≤nimes
- Limitaci√≥ d‚Äôusuaris i permisos
- √ös de firewall per restringir ports

Exemples de servidors FTP segurs:
- **vsftpd**
- **ProFTPD**
- **FileZilla Server**


### ‚ùì Protocol SFTP com alternativa al FTP tradicional

**SFTP (SSH File Transfer Protocol)** √©s un protocol de transfer√®ncia de fitxers que funciona sobre **SSH**.

Avantatges:
- Connexi√≥ totalment **xifrada**
- Utilitza **un sol port (22)** 
- Autenticaci√≥ mitjan√ßant:
  - Usuari i contrasenya
  - Claus SSH
- M√©s segur i f√†cil de gestionar que FTP/FTPS

üìå **Conclusi√≥:**  
SFTP √©s l‚Äôalternativa **recomanada** al FTP tradicional.


### ‚ùì Engabiat d‚Äôusuaris en connexions SFTP

L‚Äô**engabiament (chroot)** permet limitar un usuari a un directori concret del sistema.

Beneficis:
- L‚Äôusuari no pot sortir del seu directori assignat
- Millora la **seguretat**
- Evita accessos no autoritzats al sistema

Implementaci√≥ habitual:
- Configuraci√≥ de `sshd_config`
- Assignaci√≥ de directoris amb permisos controlats
- √ös de `ChrootDirectory`

üìå **Resultat:**  
Cada usuari nom√©s pot veure i modificar els seus propis fitxers.


### ‚ùì Altres m√®todes alternatius per la transfer√®ncia de fitxers

A m√©s de FTP i SFTP, existeixen altres m√®todes:

- **SCP**: c√≤pia segura de fitxers via SSH
- **rsync**: sincronitzaci√≥ eficient de fitxers locals o remots
- **WebDAV**: transfer√®ncia via HTTP/HTTPS
- **Cloud storage**: Google Drive, OneDrive, S3
- **HTTP/HTTPS**: desc√†rrega i pujada de fitxers via web

üìå **Elecci√≥ del m√®tode** dep√®n de:
- Seguretat requerida
- Volum de dades
- Automatitzaci√≥
- Entorn de xarxa

## üó∫Ô∏è Pla de Treball: Qu√® farem?

Aquesta formaci√≥ es dividir√† en **dues parts clarament diferenciades**:  
la **fonamentaci√≥ te√≤rica** i la **implementaci√≥ real**.



### 1Ô∏è‚É£ Fonaments Te√≤rics i Seguretat

Estudi dels protocols **FTP** i **SFTP**, parant especial atenci√≥ a:

- Funcionament general dels protocols
- Difer√®ncies entre **mode actiu** i **mode passiu** en FTP
- **Engabiament (chroot)** d‚Äôusuaris
- Aspectes clau de **seguretat** en la transfer√®ncia de fitxers



### 2Ô∏è‚É£ Laboratori Pr√†ctic ‚Äì *The "Real World"*

Posarem les mans al teclat.  
Configurarem **dos entorns diferenciats** utilitzant **m√†quines virtuals**.

#### üîπ Activitat A ‚Äì Servidor FTP
- Configuraci√≥ d‚Äôun servidor FTP est√†ndard
- Creaci√≥ d‚Äôusuaris
- Engabiament (chroot)
- Configuraci√≥ de permisos de lectura i escriptura
- An√†lisi de com les dades viatgen **en clar** (sense xifrar)





