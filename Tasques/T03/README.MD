## ğŸ§© IntroducciÃ³ a la tasca

En la vostra experiÃ¨ncia a **EverPia** heu configurat serveis fonamentals com **DHCP**, **DNS** i la **connexiÃ³ i administraciÃ³ remota dels equips**.

Ara que comenceu el vostre camÃ­ en solitari, necessiteu **ampliar coneixements** i consolidar les bases que tot professional IT ha de dominar.

Tot i que serveis de **cloud** com *Dropbox*, *Google Drive* o altres plataformes similars sÃ³n, avui dia, una de les formes mÃ©s habituals de compartir i descarregar arxius, Ã©s imprescindible entendre i dominar els **protocols fonamentals de transferÃ¨ncia de fitxers**.

Per aquest motiu, us inscriviu a una **formaciÃ³ especialitzada** amb lâ€™objectiu de convertir-vos en **experts en protocols de transferÃ¨ncia**, adquirint coneixements prÃ ctics i aplicables a entorns professionals reals.


## ğŸ¯ Objectius de la formaciÃ³

En acabar aquesta formaciÃ³, haureu de ser capaÃ§os de respondre a aquestes preguntes **amb fets i configuracions reals**:


### â“ Com funciona el protocol FTP?

El **protocol FTP (File Transfer Protocol)** Ã©s un protocol de la capa dâ€™aplicaciÃ³ que permet transferir fitxers entre un client i un servidor a travÃ©s dâ€™una xarxa TCP/IP.

CaracterÃ­stiques principals:
- Utilitza **dues connexions TCP**:
  - **ConnexiÃ³ de control** (port 21): per enviar ordres (login, llistar fitxers, canviar directorisâ€¦)
  - **ConnexiÃ³ de dades**: per transferir fitxers o llistes de directoris
- Les dades i credencials **viatgen en text pla** (no xifrat)
- Ã‰s simple perÃ² **insegur** en entorns moderns


### â“ Quina diferÃ¨ncia hi ha entre el mode actiu i el mode passiu?

**Mode actiu:**
- El client obre la connexiÃ³ de control cap al servidor (port 21)
- El servidor obre la connexiÃ³ de dades cap al client
- Problemes habituals amb **firewalls i NAT**, ja que el servidor inicia connexions cap al client

**Mode passiu:**
- El client obre tant la connexiÃ³ de control com la de dades
- El servidor indica quin port utilitzarÃ  per a la connexiÃ³ de dades
- Ã‰s el mode **mÃ©s utilitzat actualment** perquÃ¨ evita problemes amb firewalls

ğŸ“Œ **ConclusiÃ³:**  
El mode passiu Ã©s mÃ©s compatible i segur en xarxes modernes.


### â“ ImplementaciÃ³ dâ€™un servidor FTP segur

Un servidor FTP segur es pot implementar mitjanÃ§ant **FTPS (FTP sobre TLS/SSL)**.

Mesures clau:
- Xifrat de la connexiÃ³ amb **TLS**
- Ãšs de certificats digitals
- DesactivaciÃ³ de connexions anÃ²nimes
- LimitaciÃ³ dâ€™usuaris i permisos
- Ãšs de firewall per restringir ports

Exemples de servidors FTP segurs:
- **vsftpd**
- **ProFTPD**
- **FileZilla Server**


### â“ Protocol SFTP com alternativa al FTP tradicional

**SFTP (SSH File Transfer Protocol)** Ã©s un protocol de transferÃ¨ncia de fitxers que funciona sobre **SSH**.

Avantatges:
- ConnexiÃ³ totalment **xifrada**
- Utilitza **un sol port (22)** 
- AutenticaciÃ³ mitjanÃ§ant:
  - Usuari i contrasenya
  - Claus SSH
- MÃ©s segur i fÃ cil de gestionar que FTP/FTPS

ğŸ“Œ **ConclusiÃ³:**  
SFTP Ã©s lâ€™alternativa **recomanada** al FTP tradicional.


### â“ Engabiat dâ€™usuaris en connexions SFTP

Lâ€™**engabiament (chroot)** permet limitar un usuari a un directori concret del sistema.

Beneficis:
- Lâ€™usuari no pot sortir del seu directori assignat
- Millora la **seguretat**
- Evita accessos no autoritzats al sistema

ImplementaciÃ³ habitual:
- ConfiguraciÃ³ de `sshd_config`
- AssignaciÃ³ de directoris amb permisos controlats
- Ãšs de `ChrootDirectory`

ğŸ“Œ **Resultat:**  
Cada usuari nomÃ©s pot veure i modificar els seus propis fitxers.


### â“ Altres mÃ¨todes alternatius per la transferÃ¨ncia de fitxers

A mÃ©s de FTP i SFTP, existeixen altres mÃ¨todes:

- **SCP**: cÃ²pia segura de fitxers via SSH
- **rsync**: sincronitzaciÃ³ eficient de fitxers locals o remots
- **WebDAV**: transferÃ¨ncia via HTTP/HTTPS
- **Cloud storage**: Google Drive, OneDrive, S3
- **HTTP/HTTPS**: descÃ rrega i pujada de fitxers via web

ğŸ“Œ **ElecciÃ³ del mÃ¨tode** depÃ¨n de:
- Seguretat requerida
- Volum de dades
- AutomatitzaciÃ³
- Entorn de xarxa

## ğŸ—ºï¸ Pla de Treball: QuÃ¨ farem?

Aquesta formaciÃ³ es dividirÃ  en **dues parts clarament diferenciades**:  
la **fonamentaciÃ³ teÃ²rica** i la **implementaciÃ³ real**.



### 1ï¸âƒ£ Fonaments TeÃ²rics i Seguretat

Estudi dels protocols **FTP** i **SFTP**, parant especial atenciÃ³ a:

- Funcionament general dels protocols
- DiferÃ¨ncies entre **mode actiu** i **mode passiu** en FTP
- **Engabiament (chroot)** dâ€™usuaris
- Aspectes clau de **seguretat** en la transferÃ¨ncia de fitxers



### 2ï¸âƒ£ Laboratori PrÃ ctic â€“ *The "Real World"*

Posarem les mans al teclat.  
Configurarem **dos entorns diferenciats** utilitzant **mÃ quines virtuals**.

#### ğŸ”¹ Activitat A â€“ Servidor FTP
- ConfiguraciÃ³ dâ€™un servidor FTP estÃ ndard
- CreaciÃ³ dâ€™usuaris
- Engabiament (chroot)
- ConfiguraciÃ³ de permisos de lectura i escriptura
- AnÃ lisi de com les dades viatgen **en clar** (sense xifrar)

#### ğŸ”¹ Activitat B â€“ Servidor SFTP (Secure FTP)
- ImplementaciÃ³ de la transferÃ¨ncia de fitxers sobre **SSH**
- ConfiguraciÃ³ dâ€™usuaris
- Engabiament dâ€™usuaris per evitar fuites de seguretat
- ComparaciÃ³ directa amb FTP tradicional

> âš ï¸ **Nota important**  
> Com a administradors, la seguretat **no Ã©s una opciÃ³, Ã©s una obligaciÃ³**.  
> Entendre la diferÃ¨ncia entre FTP i SFTP Ã©s vital per al vostre futur professional.



## ğŸ“ Sistema dâ€™AvaluaciÃ³

Per superar aquesta formaciÃ³, haureu de demostrar la vostra competÃ¨ncia en **dos formats**:

### ğŸ“„ Prova Escrita (40%)
- Protocols
- Ports
- Modes de connexiÃ³
- Conceptes teÃ²rics de seguretat

### ğŸ› ï¸ Examen PrÃ ctic â€“ Repte de configuraciÃ³ cronometrat (60%)
- Desplegament dâ€™un servidor **FTP**
- Desplegament dâ€™un servidor **SFTP**
- CreaciÃ³ i configuraciÃ³ dâ€™usuaris amb permisos especÃ­fics
- VerificaciÃ³ de la connexiÃ³ des dâ€™un client extern



## ğŸš€ PreparaciÃ³

Prepareu les vostres **mÃ quines virtuals**.  
**Comencem a transferir dades!**



## ğŸ“š Materials i enllaÃ§os de suport

- Materials de lâ€™assignatura: **Moodle â€“ Serveis de Xarxa**

[Ir a la soluciÃ³n](solucio.md)

